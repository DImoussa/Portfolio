<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Doctrine DB Mapper Bundle - Portfolio Diallo Moussa</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <h2>Moussa<span>.dev</span></h2>
            </a>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html" class="nav-link">Retour</a></li>
                <li><a href="index.html#projets" class="nav-link">Autres Projets</a></li>
                <li><a href="index.html#contact" class="nav-link">Contact</a></li>
            </ul>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-sun"></i>
            </button>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <section class="project-detail">
        <div class="container">
            <div class="project-header">
                <div class="project-icon-large">
                    <i class="fas fa-cubes"></i>
                </div>
                <h1 class="project-title">Doctrine DB Mapper Bundle</h1>
                <p class="project-subtitle">Bundle Symfony open-source publi√© sur Packagist</p>

                <div class="project-tags">
                    <span><i class="fab fa-symfony"></i> Symfony Bundle</span>
                    <span><i class="fas fa-database"></i> Doctrine ORM</span>
                    <span><i class="fas fa-terminal"></i> CLI</span>
                    <span><i class="fab fa-php"></i> PHP 8.1+</span>
                    <span><i class="fas fa-box-open"></i> Packagist</span>
                </div>
            </div>

            <div class="project-content">
                <div class="content-section">
                    <h2><i class="fas fa-info-circle"></i> Pr√©sentation</h2>
                    <p>
                        <strong>Doctrine DB Mapper Bundle</strong> est un bundle Symfony open-source que j'ai con√ßu et publi√© sur 
                        <a href="https://packagist.org/packages/dimoussa/doctrine-db-mapper-bundle" target="_blank" style="color: var(--primary);">Packagist</a>.
                        Il permet de <strong>g√©n√©rer automatiquement des entit√©s Doctrine</strong> √† partir d'une base de donn√©es MySQL existante,
                        avec un support complet des relations (OneToMany, ManyToOne, ManyToMany, OneToOne).
                    </p>
                    <p>
                        Ce projet est n√© d'un besoin concret : lors de la reprise d'un projet existant avec une base de donn√©es d√©j√† en place,
                        la cr√©ation manuelle des entit√©s Doctrine est fastidieuse et source d'erreurs. Ce bundle automatise enti√®rement ce processus
                        via deux commandes Symfony interactives.
                    </p>
                    <p>
                        Installable en une seule commande : <code>composer require dimoussa/doctrine-db-mapper-bundle</code>
                    </p>
                </div>

                <div class="content-section">
                    <h2><i class="fas fa-star"></i> Fonctionnalit√©s Principales</h2>
                    <div class="features-grid">
                        <div class="feature-item">
                            <i class="fas fa-magic"></i>
                            <h3>G√©n√©ration Automatique</h3>
                            <p>Analyse le sch√©ma MySQL et g√©n√®re les entit√©s Doctrine avec les types PHP corrects, les annotations ORM et les repositories associ√©s</p>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-link"></i>
                            <h3>D√©tection des Relations</h3>
                            <p>Analyse automatique des cl√©s √©trang√®res pour g√©n√©rer les relations bidirectionnelles : OneToMany, ManyToOne, ManyToMany, OneToOne</p>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-terminal"></i>
                            <h3>Mode Interactif</h3>
                            <p>Interface CLI interactive pour modifier le sch√©ma : ajouter des colonnes, g√©rer les relations, pr√©visualiser le SQL avant ex√©cution</p>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-eye"></i>
                            <h3>Pr√©visualisation SQL</h3>
                            <p>Syst√®me de plan de changements avec pr√©visualisation SQL compl√®te avant toute modification r√©elle de la base de donn√©es</p>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-cogs"></i>
                            <h3>Getters / Setters / Collections</h3>
                            <p>G√©n√©ration automatique des getters, setters et m√©thodes add/remove pour les collections Doctrine</p>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-box-open"></i>
                            <h3>Package Packagist</h3>
                            <p>Distribu√© en tant que package Composer sur Packagist, installable et utilisable dans n'importe quel projet Symfony</p>
                        </div>
                    </div>
                </div>

                <div class="content-section">
                    <h2><i class="fas fa-rocket"></i> Commandes Disponibles</h2>

                    <div class="symfony-projects">
                        <div class="symfony-project-item">
                            <h3><i class="fas fa-file-code"></i> dbmapper:generate-entities</h3>
                            <p>G√©n√®re automatiquement toutes les entit√©s Doctrine depuis la base de donn√©es :</p>
                            <ul>
                                <li>Analyse compl√®te du sch√©ma (tables, colonnes, types, contraintes)</li>
                                <li>D√©tection automatique des cl√©s primaires et √©trang√®res</li>
                                <li>G√©n√©ration des relations bidirectionnelles entre entit√©s</li>
                                <li>Cr√©ation des repositories avec m√©thodes de base</li>
                                <li>Option <code>--table</code> pour cibler une table sp√©cifique</li>
                            </ul>
                        </div>

                        <div class="symfony-project-item">
                            <h3><i class="fas fa-edit"></i> dbmapper:modify-entities</h3>
                            <p>Mode interactif pour modifier le sch√©ma de la base de donn√©es :</p>
                            <ul>
                                <li>Lister et explorer les tables et leurs colonnes</li>
                                <li>Ajouter de nouvelles colonnes avec type Doctrine et nullable</li>
                                <li>Cr√©er des relations (ManyToOne, OneToMany, ManyToMany, OneToOne)</li>
                                <li>Plan de changements avec r√©capitulatif avant ex√©cution</li>
                                <li>Pr√©visualisation du SQL g√©n√©r√© avant application</li>
                                <li>Application s√©curis√©e avec confirmation</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="content-section">
                    <h2><i class="fas fa-laptop-code"></i> Exemple de Sortie</h2>

                    <div class="symfony-projects">
                        <div class="symfony-project-item">
                            <h3><i class="fas fa-play"></i> G√©n√©ration des entit√©s</h3>
                            <pre style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 10px; overflow-x: auto; font-size: 0.9rem; line-height: 1.6;">
üìä Analyse du sch√©ma de la base de donn√©es...
üîó Analyse des relations entre tables...
‚öôÔ∏è  G√©n√©ration des entit√©s et repositories...
‚úÖ User.php g√©n√©r√©
‚úÖ Post.php g√©n√©r√©
‚úÖ Comment.php g√©n√©r√©
üéâ 3 entit√©s cr√©√©es avec succ√®s !</pre>
                        </div>

                        <div class="symfony-project-item">
                            <h3><i class="fas fa-terminal"></i> Mode interactif</h3>
                            <pre style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 10px; overflow-x: auto; font-size: 0.9rem; line-height: 1.6;">
[DbMapper] Mode interactif de modification du sch√©ma

Que veux-tu faire ?
  [0] Lister les tables
  [1] Choisir une table √† modifier
  [2] Afficher le plan des changements en cours
  [3] Pr√©visualiser le SQL qui sera ex√©cut√©
  [4] Appliquer les changements dans la base de donn√©es
  [5] Quitter
 > 1

Table s√©lectionn√©e : users
  [0] Voir les attributs (colonnes)
  [1] Ajouter un nouvel attribut
  [2] G√©rer les relations
  [3] Revenir au menu principal
 > 1

Nom du nouvel attribut (colonne) : avatar
Type Doctrine : string
Nullable : oui

R√©capitulatif de la nouvelle colonne :
 - Table : users
 - Nom   : avatar
 - Type  : string
 - NULL  : oui

Requ√™tes SQL qui seront ex√©cut√©es :
  ALTER TABLE users ADD avatar VARCHAR(255) DEFAULT NULL;

‚úì Tous les changements ont √©t√© appliqu√©s avec succ√®s !</pre>
                        </div>
                    </div>
                </div>

                <div class="content-section">
                    <h2><i class="fas fa-sitemap"></i> Architecture du Bundle</h2>

                    <div class="symfony-projects">
                        <div class="symfony-project-item">
                            <h3><i class="fas fa-folder-open"></i> Structure des fichiers</h3>
                            <pre style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 10px; overflow-x: auto; font-size: 0.9rem; line-height: 1.6;">
doctrine-db-mapper-bundle/
‚îú‚îÄ‚îÄ Command/
‚îÇ   ‚îú‚îÄ‚îÄ GenerateEntitiesCommand.php    # Commande de g√©n√©ration
‚îÇ   ‚îî‚îÄ‚îÄ ModifyEntitiesCommand.php      # Commande interactive
‚îú‚îÄ‚îÄ Service/
‚îÇ   ‚îú‚îÄ‚îÄ SchemaExtractor.php            # Extraction du sch√©ma MySQL
‚îÇ   ‚îú‚îÄ‚îÄ EntityGenerator.php            # G√©n√©ration des entit√©s PHP
‚îÇ   ‚îú‚îÄ‚îÄ RelationshipAnalyzer.php       # Analyse des relations
‚îÇ   ‚îú‚îÄ‚îÄ SchemaExplorer.php             # Exploration interactive
‚îÇ   ‚îú‚îÄ‚îÄ SchemaModifier.php             # Modification du sch√©ma
‚îÇ   ‚îú‚îÄ‚îÄ SchemaChangePlanner.php        # Plan de changements
‚îÇ   ‚îî‚îÄ‚îÄ DoctrineTypeRegistry.php       # Registre des types Doctrine
‚îú‚îÄ‚îÄ DependencyInjection/
‚îÇ   ‚îú‚îÄ‚îÄ DbMapperExtension.php          # Extension Symfony
‚îÇ   ‚îî‚îÄ‚îÄ Configuration.php              # Configuration du bundle
‚îú‚îÄ‚îÄ Exception/
‚îÇ   ‚îú‚îÄ‚îÄ DbMapperException.php          # Exception de base
‚îÇ   ‚îú‚îÄ‚îÄ EntityGenerationException.php  # Erreurs de g√©n√©ration
‚îÇ   ‚îî‚îÄ‚îÄ SchemaExtractionException.php  # Erreurs d'extraction
‚îú‚îÄ‚îÄ Resources/config/services.yaml     # D√©claration des services
‚îú‚îÄ‚îÄ DbMapperBundle.php                 # Classe principale du bundle
‚îî‚îÄ‚îÄ composer.json                      # M√©tadonn√©es Packagist</pre>
                        </div>

                        <div class="symfony-project-item">
                            <h3><i class="fas fa-puzzle-piece"></i> Services & Responsabilit√©s</h3>
                            <ul>
                                <li><strong>SchemaExtractor</strong> ‚Äî Interroge <code>information_schema</code> pour r√©cup√©rer tables, colonnes, cl√©s primaires et √©trang√®res</li>
                                <li><strong>RelationshipAnalyzer</strong> ‚Äî D√©tecte les relations entre tables (FK, tables de jonction ManyToMany) et g√©n√®re les m√©tadonn√©es Doctrine</li>
                                <li><strong>EntityGenerator</strong> ‚Äî Produit le code PHP des entit√©s avec attributs ORM, types, getters/setters et repositories</li>
                                <li><strong>SchemaExplorer</strong> ‚Äî Fournit une API de lecture interactive du sch√©ma pour la commande modify</li>
                                <li><strong>SchemaChangePlanner</strong> ‚Äî Accumule les changements demand√©s (colonnes, relations) avant ex√©cution</li>
                                <li><strong>SchemaModifier</strong> ‚Äî Traduit le plan de changements en SQL et l'ex√©cute via Doctrine DBAL</li>
                                <li><strong>DoctrineTypeRegistry</strong> ‚Äî Mappe les types Doctrine vers les types SQL natifs</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="content-section">
                    <h2><i class="fas fa-code"></i> Stack Technique</h2>
                    <div class="tech-stack">
                        <div class="tech-category">
                            <h3>Langage & Framework</h3>
                            <ul>
                                <li><strong>PHP 8.1+</strong> ‚Äî Typage strict, enums, attributs</li>
                                <li><strong>Symfony 6 / 7</strong> ‚Äî Console, DependencyInjection, Config</li>
                                <li><strong>Doctrine ORM 2.14 / 3.0</strong> ‚Äî Mapping objet-relationnel</li>
                                <li><strong>Doctrine DBAL 3 / 4</strong> ‚Äî Abstraction base de donn√©es</li>
                            </ul>
                        </div>
                        <div class="tech-category">
                            <h3>Concepts & Patterns</h3>
                            <ul>
                                <li><strong>Symfony Bundle</strong> ‚Äî Architecture modulaire r√©utilisable</li>
                                <li><strong>Service Container</strong> ‚Äî Injection de d√©pendances</li>
                                <li><strong>Command Pattern</strong> ‚Äî Commandes CLI interactives</li>
                                <li><strong>Change Planner</strong> ‚Äî Accumulation et preview des modifications</li>
                            </ul>
                        </div>
                        <div class="tech-category">
                            <h3>Base de Donn√©es</h3>
                            <ul>
                                <li><strong>MySQL / MariaDB</strong> ‚Äî Base de donn√©es cible</li>
                                <li><strong>information_schema</strong> ‚Äî Introspection du sch√©ma</li>
                                <li><strong>DDL dynamique</strong> ‚Äî ALTER TABLE, CREATE TABLE</li>
                            </ul>
                        </div>
                        <div class="tech-category">
                            <h3>Distribution & Outils</h3>
                            <ul>
                                <li><strong>Composer / Packagist</strong> ‚Äî Distribution du package</li>
                                <li><strong>PSR-4 Autoloading</strong> ‚Äî Chargement automatique</li>
                                <li><strong>Git / GitHub</strong> ‚Äî Versioning et h√©bergement</li>
                                <li><strong>PHPUnit</strong> ‚Äî Tests unitaires</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="content-section">
                    <h2><i class="fas fa-graduation-cap"></i> Comp√©tences Acquises</h2>
                    <div class="challenges">
                        <div class="challenge-item">
                            <h3>Cr√©ation d'un Bundle Symfony</h3>
                            <p>Conception d'un bundle r√©utilisable et distribu√© avec sa propre configuration, ses services auto-wired, son extension DependencyInjection et ses commandes CLI.</p>
                        </div>
                        <div class="challenge-item">
                            <h3>Introspection de Base de Donn√©es</h3>
                            <p>Ma√Ætrise de l'interrogation du sch√©ma MySQL via information_schema et Doctrine DBAL pour extraire dynamiquement la structure de n'importe quelle base de donn√©es.</p>
                        </div>
                        <div class="challenge-item">
                            <h3>G√©n√©ration de Code</h3>
                            <p>D√©veloppement d'un moteur de g√©n√©ration de code PHP produisant des entit√©s Doctrine conformes aux bonnes pratiques : attributs ORM, typage strict, relations bidirectionnelles.</p>
                        </div>
                        <div class="challenge-item">
                            <h3>Analyse Relationnelle</h3>
                            <p>Algorithme de d√©tection automatique des relations entre tables : identification des cl√©s √©trang√®res, d√©tection des tables de jonction ManyToMany, gestion de la bidirectionnalit√©.</p>
                        </div>
                        <div class="challenge-item">
                            <h3>Interface CLI Interactive</h3>
                            <p>Conception d'une interface en ligne de commande interactive avec menus, sous-menus, validation des entr√©es, plan de changements et pr√©visualisation SQL.</p>
                        </div>
                        <div class="challenge-item">
                            <h3>Publication Open-Source</h3>
                            <p>Publication d'un package sur Packagist avec gestion du versioning, r√©daction du README bilingue, configuration Composer et distribution publique.</p>
                        </div>
                    </div>
                </div>

                <div class="content-section">
                    <h2><i class="fas fa-rocket"></i> R√©sultats</h2>
                    <div class="results-grid">
                        <div class="result-item">
                            <div class="result-number">7</div>
                            <p>Services architectur√©s</p>
                        </div>
                        <div class="result-item">
                            <div class="result-number">2</div>
                            <p>Commandes Symfony</p>
                        </div>
                        <div class="result-item">
                            <div class="result-number">4</div>
                            <p>Types de relations</p>
                        </div>
                    </div>
                </div>

                <div class="project-actions">
                    <a href="https://github.com/DImoussa/doctrine-db-mapper-bundle" target="_blank" class="btn btn-primary">
                        <i class="fab fa-github"></i> Voir sur GitHub
                    </a>
                    <a href="https://packagist.org/packages/dimoussa/doctrine-db-mapper-bundle" target="_blank" class="btn btn-secondary">
                        <i class="fas fa-box-open"></i> Voir sur Packagist
                    </a>
                    <a href="index.html#projets" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> Retour aux projets
                    </a>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Diallo Moussa. Tous droits r√©serv√©s.</p>
            <div class="footer-links">
                <a href="https://github.com/DImoussa" target="_blank"><i class="fab fa-github"></i></a>
                <a href="https://www.linkedin.com/in/moussa-diallo-a99706236/" target="_blank"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>
    </footer>

    <button id="backToTop" class="back-to-top" title="Retour en haut">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="script.js"></script>
</body>
</html>
